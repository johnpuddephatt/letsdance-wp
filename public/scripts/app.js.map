{"version":3,"file":"/scripts/app.js","mappings":"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","sources":["webpack:///./resources/scripts/modules/aos.js","webpack:///./resources/scripts/modules/slideshow.js","webpack:///./resources/scripts/modules/imageMask.js","webpack:///./resources/scripts/modules/fixSizesAttribute.js","webpack:///./resources/scripts/modules/fadeInProjectImages.js","webpack:///./resources/scripts/app.js"],"sourcesContent":["'use strict';\n\nexport default function (elems) {\n  if (\n    'IntersectionObserver' in window &&\n    'IntersectionObserverEntry' in window &&\n    'intersectionRatio' in window.IntersectionObserverEntry.prototype\n  ) {\n    var options = {\n      threshold: [0.1],\n    };\n\n    var callback = function (elements, observer) {\n      elements.forEach((elem) => {\n        if (\n          elem.intersectionRatio >=\n          (elem.target.dataset['aos-ratio'] ?? options.threshold)\n        ) {\n          elem.target.classList.remove(\n            ...elem.target.dataset.aosClass.trim().split(' ')\n          );\n          observer.unobserve(elem.target);\n        }\n      });\n    };\n\n    let fadeIn = function (element) {\n      element.classList.add(\n        'transform',\n        '!delay-0',\n        '!duration-0',\n        ...element.dataset.aosClass.trim().split(' ')\n      );\n      setTimeout(() => {\n        element.classList.remove('!duration-0', '!delay-0');\n        observer.observe(element);\n      }, 150);\n    };\n\n    var observer = new IntersectionObserver(callback, options);\n\n    if (elems instanceof NodeList) {\n      elems.forEach((element) => {\n        console.log('fade in...');\n        fadeIn(element);\n      });\n    } else {\n      fadeIn(elems);\n    }\n  }\n}\n","'use strict';\nvar simpleslider = require('simple-slider');\nimport Alpine from 'alpinejs';\nwindow.Alpine = Alpine;\n\nexport default function (config) {\n  if (config.withLoadingScreen) {\n    document.addEventListener('DOMContentLoaded', () => {\n      Alpine.store('siteLoading', true);\n      Alpine.start();\n    });\n  }\n\n  var sliderImagesLoaded = 0;\n\n  let sliderImages = document.querySelectorAll(\n    window.innerWidth > window.innerHeight\n      ? '#hero-image-slider img'\n      : '#hero-image-slider-portrait img'\n  );\n  let ldLoaded = false;\n\n  let startSlideshowIfAllLoaded = function () {\n    if (sliderImagesLoaded >= sliderImages.length && ldLoaded == false) {\n      ldLoaded = true;\n      if (config.withLoadingScreen) {\n        setTimeout(() => {\n          Alpine.store('siteLoading', false);\n          Alpine.start();\n\n          document.documentElement.classList.remove(\n            'overflow-hidden',\n            'pointer-events-none'\n          );\n          setTimeout(() => {\n            startSlideshow(config);\n          }, 3000);\n        }, 4000);\n      } else {\n        startSlideshow(config);\n      }\n    }\n  };\n\n  sliderImages.forEach((image) => {\n    if (image.complete) {\n      sliderImagesLoaded++;\n      startSlideshowIfAllLoaded();\n    } else {\n      image.addEventListener('load', () => {\n        sliderImagesLoaded++;\n        startSlideshowIfAllLoaded();\n      });\n    }\n  });\n}\n\nfunction startSlideshow(config) {\n  const slider = simpleslider.getSlider({\n    container: document.getElementById(\n      window.innerWidth > window.innerHeight\n        ? 'hero-image-slider'\n        : 'hero-image-slider-portrait'\n    ),\n    prop: 'opacity',\n    init: 0,\n    show: 1,\n    end: 0,\n    unit: '',\n    duration: 0.6,\n    delay: 2,\n    class: {\n      slide: 'inset-0',\n    },\n  });\n  if (!config.withLoadingScreen) {\n    slider.change(\n      Math.floor(\n        Math.random() *\n          document.querySelectorAll('#hero-image-slider img').length +\n          1\n      )\n    );\n  }\n}\n","'use strict';\n\nexport default function (config, barbaEvent) {\n  var mask =\n    config.mode == 'create'\n      ? document.createElement('img')\n      : document.querySelector('.project-image-mask');\n\n  if (mask) {\n    if (config.mode == 'create') {\n      mask.src = config.target.src;\n      mask.classList.add(\n        'project-image-mask',\n        'block',\n        'rounded',\n        'border',\n        'border-gray-50',\n        'transition-all',\n        `duration-[750ms]`,\n        'fixed',\n        'z-[99999]'\n      );\n    }\n\n    var modX, modY;\n\n    if (config.mode == 'update') {\n      modX =\n        config.transition == 'project-open'\n          ? -document.body.clientWidth\n          : document.body.clientWidth;\n    } else {\n      modX = 0;\n    }\n\n    // @todo - move this out of imageMask?\n    if (config.mode == 'update' && config.transition == 'project-close') {\n      modY = config.target.parentNode.offsetTop;\n      barbaEvent.next.container.style.top = `-${\n        modY - document.querySelector('main header').clientHeight\n      }px`;\n    }\n\n    let imgBounds = config.target.getBoundingClientRect();\n\n    mask.style.left = imgBounds.x + modX + 'px';\n    mask.style.top = imgBounds.y + 'px';\n    mask.style.width = imgBounds.width + 'px';\n    mask.style.height = imgBounds.height + 'px';\n\n    if (config.mode == 'create') {\n      document.body.append(mask);\n    }\n\n    setTimeout(() => {\n      config.target.style.visibility = 'hidden';\n    }, 50);\n  }\n}\n","'use strict';\n\nexport default function () {\n  document.querySelectorAll('.alignfull > img').forEach((img) => {\n    img.setAttribute('sizes', '100vw');\n  });\n\n  document.querySelectorAll('.alignwide > img').forEach((img) => {\n    img.setAttribute('sizes', '(min-width: 1280px) 1280px, 100vw');\n  });\n\n  document\n    .querySelectorAll('.wp-block-gallery.alignwide img')\n    .forEach((img) => {\n      img.setAttribute('sizes', '(min-width: 1280px) 640px, 50vw');\n    });\n}\n","'use strict';\nimport aos from './aos';\n\nexport default function () {\n  let images = document.querySelectorAll('.wp-block-image img');\n  images.forEach((image) => {\n    image.classList.add('duration-1000', 'transform');\n    image.dataset.aosClass = 'opacity-0 translate-y-16';\n    aos(image);\n    // if (image.complete) {\n\n    // } else {\n    //   image.addEventListener('load', () => {\n    //     aos(image);\n    //   });\n    // }\n  });\n}\n","// External modules\nimport barba from '@barba/core';\nimport barbaCss from '@barba/css';\nimport Alpine from 'alpinejs';\n// // Internal Modules\nimport aos from './modules/aos';\nimport slideShow from './modules/slideshow';\nimport imageMask from './modules/imageMask';\nimport fixSizesAttribute from './modules/fixSizesAttribute';\nimport fadeInProjectImages from './modules/fadeInProjectImages';\nimport addPlayButtonToVideos from './modules/addPlayButtonToVideos';\n\nwindow.Alpine = Alpine;\nAlpine.start();\n\nwindow.barba = barba;\nbarba.use(barbaCss);\n\ndocument.body.addEventListener('keyup', function (e) {\n  if (e.which === 9) {\n    document.body.classList.remove('no-focus-outline');\n  }\n});\n\nbarba.hooks.beforeEnter((data) => {\n  if (\n    data.next.container &&\n    !(data.next.namespace == 'standard' && data.current.namespace == 'project')\n  ) {\n    aos(data.next.container.querySelectorAll('[data-aos]'));\n  }\n});\n\nbarba.init({\n  debug: false,\n  views: [\n    {\n      namespace: 'home',\n      beforeEnter() {\n        document.documentElement.classList.add('h-fill');\n        slideShow({\n          withLoadingScreen: !barba.history.previous,\n        });\n      },\n    },\n  ],\n  transitions: [\n    {\n      name: 'slide-right',\n      sync: true,\n      once() {},\n      leave() {},\n      enter() {},\n      to: {\n        namespace: 'simple',\n      },\n    },\n    {\n      name: 'slide-up',\n      sync: true,\n      once() {},\n      leave() {},\n      beforeEnter() {},\n      from: {\n        namespace: 'home',\n      },\n      to: {\n        namespace: 'standard',\n      },\n    },\n    {\n      name: 'slide-down',\n      sync: true,\n      once() {},\n      leave() {},\n      enter() {},\n      from: {\n        namespace: ['project', 'standard'],\n      },\n      to: {\n        namespace: 'home',\n      },\n    },\n    {\n      name: 'slide-left',\n      sync: true,\n      once() {},\n      leave() {},\n      enter() {},\n      from: {\n        namespace: 'simple',\n      },\n    },\n    {\n      name: 'project-open',\n      sync: true,\n      once() {},\n      leave() {},\n      enter() {},\n      beforeOnce() {\n        fadeInProjectImages();\n      },\n      before(e) {\n        e.next.container.style.transform = 'translate-x(99999px)';\n        e.current.container.style.top =\n          -document.documentElement.scrollTop + 'px';\n\n        fixSizesAttribute();\n        var imageElement =\n          e.trigger.classList && e.trigger.classList.contains('project-item')\n            ? e.trigger.querySelector('img')\n            : document.querySelector(`a[href*=\"${e.next.url.href}\"] img`);\n\n        if (imageElement) {\n          imageMask(\n            {\n              target: imageElement,\n              mode: 'create',\n              transition: 'project-open',\n            },\n            e\n          );\n        }\n      },\n      beforeEnter(e) {\n        fadeInProjectImages();\n        fixSizesAttribute();\n        imageMask(\n          {\n            target: document.querySelector('.project-template--featured-image'),\n            mode: 'update',\n            transition: 'project-open',\n          },\n          e\n        );\n      },\n\n      afterEnter() {\n        document.querySelector(\n          '.project-template--featured-image'\n        ).style.visibility = 'visible';\n        document.querySelector('.project-image-mask').remove();\n      },\n      to: {\n        namespace: 'project',\n      },\n    },\n    {\n      name: 'project-close',\n      sync: true,\n      once() {},\n      leave() {},\n      enter() {},\n      before(e) {\n        imageMask({\n          target: document.querySelector('.project-template--featured-image'),\n          mode: 'create',\n          transition: 'project-close',\n        });\n      },\n      beforeEnter(e) {\n        imageMask(\n          {\n            target: document.querySelector(\n              `a[href*=\"${e.current.url.path}\"] img`\n            ),\n            mode: 'update',\n            transition: 'project-close',\n          },\n          e\n        );\n      },\n      afterEnter(e) {\n        let imageMaskTarget = document.querySelector(\n          `a[href*=\"${e.current.url.path}\"] img`\n        );\n        document.documentElement.scrollTop =\n          imageMaskTarget.parentNode.offsetTop -\n          document.querySelector('main header').clientHeight;\n        imageMaskTarget.style.visibility = 'visible';\n        document.querySelector('.project-image-mask').remove();\n      },\n      // afterLeave(e) {\n      // barba.wrapper.scrollTop = 0;\n      // },\n      from: {\n        namespace: 'project',\n      },\n    },\n  ],\n});\n"],"names":["window","options","threshold","fadeIn","element","setTimeout","observer","IntersectionObserver","elements","elem","elems","console","simpleslider","require","startSlideshow","config","slider","container","document","prop","init","show","end","unit","duration","delay","class","slide","Math","mask","modX","modY","barbaEvent","imgBounds","img","images","image","aos","Alpine","barba","e","data","debug","views","namespace","beforeEnter","sliderImagesLoaded","sliderImages","ldLoaded","startSlideshowIfAllLoaded","slideShow","withLoadingScreen","transitions","name","sync","once","leave","enter","to","from","beforeOnce","fadeInProjectImages","before","fixSizesAttribute","imageElement","imageMask","target","mode","transition","afterEnter","imageMaskTarget"],"sourceRoot":""}